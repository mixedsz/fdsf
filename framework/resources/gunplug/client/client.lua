local blackmarketMenu = {
    {label = 'Blue ARP', args = {value = 'WEAPON_BLUEARP'}},
    {label = 'TP9SF', args = {value = 'WEAPON_TP9SF'}},
    {label = 'BERETTA', args = {value = 'WEAPON_BERETTA1301'}},
    {label = 'DAR15', args = {value = 'WEAPON_DAR15'}},
    {label = 'GLOCK 20 SWITCH', args = {value = 'WEAPON_GLOCK20S'}},
    {label = 'GLOCK 22 SWITCH', args = {value = 'WEAPON_GLOCK22S'}},
    {label = 'GLOCK DEMON', args = {value = 'WEAPON_GLOCKDEMON'}},
    {label = 'GLOCK 19X', args = {value = 'WEAPON_ILLGLOCK19X'}},
    {label = 'SUB 2000', args = {value = 'WEAPON_SUB2000'}},
    {label = 'MK47', args = {value = 'WEAPON_MK47'}},
    {label = 'M16', args = {value = 'WEAPON_M16'}},
    {label = 'MAC4A1', args = {value = 'WEAPON_MAC4A1'}},
    {label = 'SPEAR', args = {value = 'WEAPON_SPEAR'}},
    {label = 'MICRO MP5', args = {value = 'WEAPON_MICROMP5'}},
    {label = 'MINI AK47', args = {value = 'WEAPON_MINIAK47'}},
    {label = 'MINI SHOTGUN', args = {value = 'WEAPON_MINISHOTGUN'}},
    {label = 'RAM7K', args = {value = 'WEAPON_RAM7K'}},
    {label = 'RAM9D', args = {value = 'WEAPON_RAM9D'}},
    {label = 'REDAUG', args = {value = 'WEAPON_REDAUG'}},
    {label = 'SR9', args = {value = 'WEAPON_SR9'}},
    {label = 'GX4', args = {value = 'WEAPON_GX4'}},
    {label = 'TGLOCK45', args = {value = 'WEAPON_TGLOCK45'}},
    {label = 'UDP9', args = {value = 'WEAPON_UDP9'}},
    {label = 'CZBREN', args = {value = 'WEAPON_CZBREN'}}
}

local coinshopMenu = {
    {label = 'AK-47 Wire Spooky', args = {value = 'WEAPON_BANKSONGP2AK47'}},
    {label = 'AK-S Mixed Purple Skull', args = {value = 'WEAPON_BANKSONGP2AKS'}},
    {label = 'AR-15 Wire Blue Aura', args = {value = 'WEAPON_BANKSONGP2AR15'}},
    {label = 'ARP Mixed Red Tiger', args = {value = 'WEAPON_BANKSONGP2ARP'}},
    {label = 'AS-Val Wire Pink', args = {value = 'WEAPON_BANKSONGP2ASVAL'}},
    {label = 'PP Bizon Wire Tiffany', args = {value = 'WEAPON_BANKSONGP2BIZON'}},
    {label = 'CZ75 Matrix', args = {value = 'WEAPON_BANKSONGP2CZ75'}},
    {label = 'Draco Wire White Hot', args = {value = 'WEAPON_BANKSONGP2DRACO'}},
    {label = 'Scorpion Evo Mixed Pink Camo', args = {value = 'WEAPON_BANKSONGP2EVO'}},
    {label = 'Glock 17 Switch Diamond Black', args = {value = 'WEAPON_BANKSONGP2G17S'}},
    {label = 'Glock 18C Mixed Caution', args = {value = 'WEAPON_BANKSONGP2G18C'}},
    {label = 'Renetti Mixed Molten', args = {value = 'WEAPON_BANKSONGP2REN'}},
    {label = 'Glock 22 Switch Wire Ocean Mist', args = {value = 'WEAPON_BANKSONGP2G22S'}},
    {label = 'Glock 41 Switch Roses', args = {value = 'WEAPON_BANKSONGP2G41S'}},
    {label = 'HK-416 Hearts', args = {value = 'WEAPON_BANKSONGP2HK416'}},
    {label = 'Krig-C Mixed Black Ice', args = {value = 'WEAPON_BANKSONGP2KRIGC'}},
    {label = 'Kriss Vector Flame', args = {value = 'WEAPON_BANKSONGP2KVECTOR'}},
    {label = 'MP-9 Mixed Green Lightning', args = {value = 'WEAPON_BANKSONGP2MP9'}},
    {label = 'MP5 Wire Pink', args = {value = 'WEAPON_BANKSONGP2MP5'}},
    {label = 'M4 CQC Wire Rainbow', args = {value = 'WEAPON_BANKSONGP2M4CQC'}},
    {label = 'M4A1 Mixed Lightning', args = {value = 'WEAPON_BANKSONGP2M4A1'}},
    {label = 'MK17 CQC Wire Gray Green', args = {value = 'WEAPON_BANKSONGP2MKCQC'}},
    {label = 'MPL Trippy Skulls', args = {value = 'WEAPON_BANKSONGP2MPL'}},
    {label = 'PP-19 Wire Yellow Black', args = {value = 'WEAPON_BANKSONGP2PP19'}},
    {label = 'SCAR-H Wire Red', args = {value = 'WEAPON_BANKSONGP2SCARH'}},
    {label = 'SIG 556 Mixed Slime', args = {value = 'WEAPON_BANKSONGP2SIG556'}},
    {label = 'SIG MCX Flamed', args = {value = 'WEAPON_BANKSONGP2SIGMCX'}},
    {label = 'SPAS-12 Wire White Orange', args = {value = 'WEAPON_BANKSONGP2SPAS12'}},
    {label = 'Superi Mixed Green Purple Skulls', args = {value = 'WEAPON_BANKSONGP2SUPERI'}},
    {label = 'UMP-45 Wire Diamond', args = {value = 'WEAPON_BANKSONGP2UMP45'}}
}

local heliMenu = {
    {label = 'Artix', args = {value = 'WEAPON_ARTIX'}},
    {label = 'BRY74U', args = {value = 'WEAPON_BRY74U'}},
    {label = 'COMPY', args = {value = 'WEAPON_COMPY'}},
    {label = 'Wolf AR', args = {value = 'WEAPON_WOLFGREYAR'}},
    {label = 'SoulR', args = {value = 'WEAPON_SOULR99'}},
    {label = 'G19 X', args = {value = 'WEAPON_G19XBUTTON'}},
    {label = 'Boli V4', args = {value = 'WEAPON_BOLIV4'}},
    {label = 'Amethyst', args = {value = 'WEAPON_AMETHYST'}},
    {label = 'AK74 U', args = {value = 'WEAPON_AK74UGREEN'}},
    {label = 'Banz SR', args = {value = 'WEAPON_BANDZSR'}},
    {label = 'Whiteout FG17', args = {value = 'WEAPON_WHITEOUTG17'}},
    {label = 'JKJ404', args = {value = 'WEAPON_JKJ4O4'}},
    {label = 'Black M4', args = {value = 'WEAPON_COINSHOP1'}},
    {label = 'Devon UMP', args = {value = 'WEAPON_DEVONUMP'}},
    {label = 'DOA 47', args = {value = 'WEAPON_DOA47'}},
    {label = 'STEPPER MP5', args = {value = 'WEAPON_STEPPERMP5'}},
    {label = 'SM16', args = {value = 'WEAPON_DREAMSM16'}},
    {label = 'BH 56', args = {value = 'WEAPON_BLACKHOLE'}},
    {label = 'Euphoria', args = {value = 'WEAPON_EUPHORIA'}}
}

lib.registerMenu({
    id = 'gunPurchaseMenu',
    title = 'Gun Purchase Menu',
    position = 'bottom-right',
    options = {
        {label = 'Blackmarket', args = {menu = 'blackmarketMenu'}},
        {label = 'CoinShop', args = {menu = 'coinshopMenu'}},
        {label = 'Heli Guns', args = {menu = 'heliMenu'}}
    },
    onClose = function()
    end
}, function(selected, scrollIndex, args)
    if args and args.menu then
        lib.showMenu(args.menu)
    end
end)


lib.registerMenu({
    id = 'blackmarketMenu',
    title = 'Blackmarket',
    position = 'bottom-right',
    options = blackmarketMenu,
    onClose = function()
        lib.showMenu('gunPurchaseMenu')
    end
}, function(selected, scrollIndex, args)
    if args and args.value then
        TriggerServerEvent('addWeaponToInventory', args.value)
        lib.showMenu('blackmarketMenu')
    end
end)

lib.registerMenu({
    id = 'coinshopMenu',
    title = 'Coinshop Guns',
    position = 'bottom-right',
    options = coinshopMenu,
    onClose = function()
        lib.showMenu('gunPurchaseMenu')
    end
}, function(selected, scrollIndex, args)
    if args and args.value then
        TriggerServerEvent('addWeaponToInventory', args.value)
        lib.showMenu('coinshopMenu')
    end
end)

lib.registerMenu({
    id = 'heliMenu',
    title = 'Heli Guns',
    position = 'bottom-right',
    options = heliMenu,
    onClose = function()
        lib.showMenu('gunPurchaseMenu')
    end
}, function(selected, scrollIndex, args)
    if args and args.value then
        TriggerServerEvent('addWeaponToInventory', args.value)
        lib.showMenu('heliMenu')
    end
end)

RegisterCommand('gunplug', function()
    ESX.TriggerServerCallback('checkDiscordRoleForGuns', function(hasRole)
        if hasRole then
            lib.showMenu('gunPurchaseMenu') 
        else
            Zen.Functions.Notify('You don\'t have access to this menu!', 'x', '#EC4899')
        end
    end)
end, false)